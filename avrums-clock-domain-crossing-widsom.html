
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://www.colmryan.org/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://www.colmryan.org/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="http://www.colmryan.org/theme/font-awesome/css/font-awesome.min.css">


    <link href="http://www.colmryan.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Tomorrow Said Toad Atom">





<meta name="author" content="Colm Ryan" />
<meta name="description" content="Avrum is an active fellow on the Xilinx forums whenever clock domain crossing (CDC) issues crop up. By default, and in contrast to ISE, Vivado assumes all clocks are related. Thus, even with a proper synchronization circuit, Vivado needs to be explicitly told not to try and time these paths …" />
<meta name="keywords" content="VHDL, Vivado">

<meta property="og:site_name" content="Tomorrow Said Toad"/>
<meta property="og:title" content="Avrum&#39;s Clock Domain Crossing Widsom"/>
<meta property="og:description" content="Avrum is an active fellow on the Xilinx forums whenever clock domain crossing (CDC) issues crop up. By default, and in contrast to ISE, Vivado assumes all clocks are related. Thus, even with a proper synchronization circuit, Vivado needs to be explicitly told not to try and time these paths …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://www.colmryan.org/avrums-clock-domain-crossing-widsom.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-08-22 00:00:00-04:00"/>
<meta property="article:modified_time" content="2016-09-20 00:00:00-04:00"/>
<meta property="article:author" content="http://www.colmryan.org/author/colm-ryan.html">
<meta property="article:section" content="Hardware"/>
<meta property="article:tag" content="VHDL"/>
<meta property="article:tag" content="Vivado"/>
<meta property="og:image" content="">

  <title>Tomorrow Said Toad &ndash; Avrum&#39;s Clock Domain Crossing Widsom</title>

</head>
<body>
  <aside>
    <div>
      <a href="http://www.colmryan.org">
        <img src="http://www.colmryan.org/theme/img/profile.png" alt="Tomorrow Said Toad" title="Tomorrow Said Toad">
      </a>
      <h1><a href="http://www.colmryan.org">Tomorrow Said Toad</a></h1>

<p>Today I will take life easy...</p>
      <nav>
        <ul class="list">

          <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
          <li><a href="http://python.org/" target="_blank">Python.org</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-github" href="http://github.com/caryan" target="_blank"><i class="fa fa-github"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="avrums-clock-domain-crossing-widsom">Avrum's Clock Domain Crossing Widsom</h1>
    <p>
          Posted on Mon 22 August 2016 in <a href="http://www.colmryan.org/category/hardware.html">Hardware</a>


    </p>
  </header>


  <div>
    <p><a href="https://forums.xilinx.com/t5/user/viewprofilepage/user-id/7227">Avrum</a> is an
active fellow on the Xilinx forums whenever clock domain crossing (CDC) issues
crop up. By default, and in contrast to ISE, Vivado assumes all clocks are
related. Thus, even with a proper synchronization circuit, Vivado needs to be
explicitly told not to try and time these paths. Avrum does an excellent job of
explaining the correct constraint relaxation to use and why not use what I call
the  "ostrich method" of just setting the clocks as asynchronous using
<code>set_clock_groups -asynchronous</code> or <code>set_false_path</code> between all path between
the clocks. This certainly is the easy way out but means you'll clobber all
other more delicate constraints and could mask a real clock crossing problem
where you've forgotten to synchronize.  I've tried to collect his posts here for
reference:</p>
<ul>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/set-false-path/m-p/638630/highlight/true#M8189">post</a> - constraints on a reset synchronizer and the one of the few places I've seen mentioned using a <code>set_max_delay</code> on a single-bit synchronizer chain</li>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/Setting-ASYNC-REG-in-VHDL-for-Two-Flop-Synchronizer/m-p/701415/highlight/true#M9905">post</a> and <a href="https://forums.xilinx.com/t5/Timing-Analysis/Setting-ASYNC-REG-in-VHDL-for-Two-Flop-Synchronizer/m-p/701603/highlight/true#M9917">post</a> - clever tcl commands to use to find module and register instances</li>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/What-does-quot-set-false-path-through-quot-do/m-p/397541/highlight/true#M5250">post</a> - more reset syncrhonization with a nice slide attached</li>
<li><a href="https://forums.xilinx.com/t5/Vivado-TCL-Community/How-to-set-timing-constraint-in-this-case/m-p/510771/highlight/true#M2049">post</a> - long discussion about the difference between single bit and bus synchronization</li>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/Timing-Failure-MCMM-with-multiple-outputs/m-p/563460/highlight/true#M7580">post</a> -  long discussion of different types of CDC exceptions and why <code>set_max_delay</code> is almost always preferred</li>
<li><a href="https://forums.xilinx.com/t5/Virtex-Family-FPGAs/idelayctrl-with-iodelay-group-example/m-p/320797/highlight/true#M16569">post</a> - not quite clock domain crossing but a clear explanation of IODELAYCTRL instantiation</li>
<li><a href="https://forums.xilinx.com/t5/Virtex-Family-FPGAs/MTBF-equation-factors-for-Metastability-synchronizers-slack/m-p/536955/highlight/true#M20024">post</a> - discussion of mean time before failure (MTBF) for synchronizer chain and references new Vivado tcl command <code>report_synchronizer_mtbf</code> for Ultrascale parts</li>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/distributed-RAM-timing-errror-on-read/m-p/474298/highlight/true#M6206">post</a> - subtleties of distributed RAM which "is an odd beast - it is partly a synchronous element (the write) and partly a combinatorial element (the read)."</li>
</ul>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://www.colmryan.org/tag/vhdl.html">VHDL</a>
      <a href="http://www.colmryan.org/tag/vivado.html">Vivado</a>
    </p>
  </div>





</article>

    <footer>
<p>
  &copy;  2020 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Tomorrow Said Toad ",
  "url" : "http://www.colmryan.org",
  "image": "",
  "description": ""
}
</script>

</body>
</html>