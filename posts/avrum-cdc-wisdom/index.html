<!DOCTYPE html>
<html><head lang="en">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Avrum&#39;s Clock Domain Crossing Widsom - Tomorrow Said Toad</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="A collection of clock domain crossing from Xilinx forums" />
	<meta property="og:image" content=""/>
	<meta property="og:url" content="https://www.colmryan.org/posts/avrum-cdc-wisdom/">
  <meta property="og:site_name" content="Tomorrow Said Toad">
  <meta property="og:title" content="Avrum&#39;s Clock Domain Crossing Widsom">
  <meta property="og:description" content="A collection of clock domain crossing from Xilinx forums">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-08-22T00:00:00+00:00">
    <meta property="article:modified_time" content="2016-08-22T00:00:00+00:00">
    <meta property="article:tag" content="Vhdl">
    <meta property="article:tag" content="Vivado">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Avrum&#39;s Clock Domain Crossing Widsom">
  <meta name="twitter:description" content="A collection of clock domain crossing from Xilinx forums">

        <link href="https://www.colmryan.org/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://www.colmryan.org/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://www.colmryan.org/css/dark.50b57e12d401420df23965fed157368aba37b76df0ecefd0b1ecd4da664f01a0.css" media="(prefers-color-scheme: dark)"  /><script type="text/javascript"
		src="https://www.colmryan.org/js/MathJax.js"></script>
		
		<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']],
				displayMath: [['$$','$$'], ['\[','\]']],
				processEscapes: true,
				processEnvironments: true,
				skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
				TeX: { equationNumbers: { autoNumber: "AMS" },
						 extensions: ["AMSmath.js", "AMSsymbols.js"] }
			}
		});
		</script><link rel="stylesheet" href="https://www.colmryan.org/katex/katex.min.css ">
		<script defer src="https://www.colmryan.org/katex/katex.min.js"></script>
		<script defer src="https://www.colmryan.org/katex/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
		
		<script>
			document.addEventListener("DOMContentLoaded", function() {
					renderMathInElement(document.body, {
							delimiters: [
									{left: "$$", right: "$$", display: true},
									{left: "$", right: "$", display: false}
							]
					});
			});
		</script>
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://www.colmryan.org/">Tomorrow Said Toad</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">All posts</a>
		
		<a href="/about">About</a>
		
		<a href="/tags">Tags</a>
		
		
	</nav>
</header>

<main>
  <article>
    <div class="post-container">
      
      <div class="post-content">
        <div class="title">
          <h1 class="title">Avrum&#39;s Clock Domain Crossing Widsom</h1>
          <div class="meta">Posted on Aug 22, 2016</div>
        </div>
        
        <section class="body">
          <p><a href="https://forums.xilinx.com/t5/user/viewprofilepage/user-id/7227">Avrum</a> is an
active fellow on the Xilinx forums whenever clock domain crossing (CDC) issues
crop up. By default, and in contrast to ISE, Vivado assumes all clocks are
related. Thus, even with a proper synchronization circuit, Vivado needs to be
explicitly told not to try and time these paths. Avrum does an excellent job of
explaining the correct constraint relaxation to use and why not use what I call
the  &ldquo;ostrich method&rdquo; of just setting the clocks as asynchronous using
<code>set_clock_groups -asynchronous</code> or <code>set_false_path</code> between all path between
the clocks. This certainly is the easy way out but means you&rsquo;ll clobber all
other more delicate constraints and could mask a real clock crossing problem
where you&rsquo;ve forgotten to synchronize.  I&rsquo;ve tried to collect his posts here for
reference:</p>
<ul>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/set-false-path/m-p/638630/highlight/true#M8189">post</a> - constraints on a reset synchronizer and the one of the few places I&rsquo;ve seen mentioned using a <code>set_max_delay</code> on a single-bit synchronizer chain</li>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/Setting-ASYNC-REG-in-VHDL-for-Two-Flop-Synchronizer/m-p/701415/highlight/true#M9905">post</a> and <a href="https://forums.xilinx.com/t5/Timing-Analysis/Setting-ASYNC-REG-in-VHDL-for-Two-Flop-Synchronizer/m-p/701603/highlight/true#M9917">post</a> - clever tcl commands to use to find module and register instances</li>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/What-does-quot-set-false-path-through-quot-do/m-p/397541/highlight/true#M5250">post</a> - more reset syncrhonization with a nice slide attached</li>
<li><a href="https://forums.xilinx.com/t5/Vivado-TCL-Community/How-to-set-timing-constraint-in-this-case/m-p/510771/highlight/true#M2049">post</a> - long discussion about the difference between single bit and bus synchronization</li>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/Timing-Failure-MCMM-with-multiple-outputs/m-p/563460/highlight/true#M7580">post</a> -  long discussion of different types of CDC exceptions and why <code>set_max_delay</code> is almost always preferred</li>
<li><a href="https://forums.xilinx.com/t5/Virtex-Family-FPGAs/idelayctrl-with-iodelay-group-example/m-p/320797/highlight/true#M16569">post</a> - not quite clock domain crossing but a clear explanation of IODELAYCTRL instantiation</li>
<li><a href="https://forums.xilinx.com/t5/Virtex-Family-FPGAs/MTBF-equation-factors-for-Metastability-synchronizers-slack/m-p/536955/highlight/true#M20024">post</a> - discussion of mean time before failure (MTBF) for synchronizer chain and references new Vivado tcl command <code>report_synchronizer_mtbf</code> for Ultrascale parts</li>
<li><a href="https://forums.xilinx.com/t5/Timing-Analysis/distributed-RAM-timing-errror-on-read/m-p/474298/highlight/true#M6206">post</a> - subtleties of distributed RAM which &ldquo;is an odd beast - it is partly a synchronous element (the write) and partly a combinatorial element (the read).&rdquo;</li>
</ul>

        </section>
        <div class="post-tags">
          
          
          <nav class="nav tags">
            <ul class="tags">
              
              <li><a href="/tags/vhdl">vhdl</a></li>
              
              <li><a href="/tags/vivado">vivado</a></li>
              
            </ul>
          </nav>
          
          
        </div>
      </div>

      
      
    </div>

    </article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="mailto:colm@colmryan.org" rel="me" title="Email"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#mail" />
</svg></a><a class="border"></a><a class="soc" href="https://github.com/caryan/" rel="me" title="GitHub"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github" />
</svg></a><a class="border"></a><a class="soc" href="https://gitlab.com/caryan" rel="me" title="GitLab"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#gitlab" />
</svg></a><a class="border"></a></div>
  <div class="footer-info">
    2025  Â© Colm Ryan |  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>



</div>
    </body>
</html>
